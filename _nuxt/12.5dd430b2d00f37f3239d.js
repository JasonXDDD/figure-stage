(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{281:function(t,e,r){"use strict";r.r(e),r.d(e,"actions",(function(){return l}));r(30),r(20),r(39),r(23),r(40);var n=r(11),o=r(4),c=(r(21),r(49),r(29),r(8),r(12),r(15),r(31),r(24),r(61));function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m="/image",l={uploadFirebase:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var c,f,d,l,v,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,c=e.docid,f=void 0===c?"":c,d=e.files,l=void 0===d?[]:d,v=r.$fire.storage.ref(),w=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(f||m,"/").concat(e.name),t.next=3,v.child(r).put(e);case 3:return n=t.sent,console.log(n,e.name),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.next=6,Promise.all(l.map((function(t){return w(t)})));case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))()},downloadFirebase:function(t){var e=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,o=e.length>1&&void 0!==e[1]?e[1]:"",c=r.$fire.storage.ref(),n.next=5,c.child(o).getDownloadURL();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()},upload:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,f,l,v,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,o=e.id,f=void 0===o?"":o,l=e.file,v=void 0===l?new c.a:l,n.prev=2,n.t0=r,n.t1="".concat("https://jasonxddd.me:7001","/figure-stage"),n.t2=d,n.t3={id:"".concat(m,"/").concat(f)},n.next=9,v.toAJAX;case 9:return n.t4=n.sent,n.t5=(0,n.t2)(n.t3,n.t4),n.t6={url:n.t1,data:n.t5,method:"POST"},n.next=14,n.t0.$axios.call(n.t0,n.t6);case 14:return w=n.sent,n.abrupt("return",w.data);case 18:return n.prev=18,n.t7=n.catch(2),console.error(n.t7),n.abrupt("return",!1);case 22:case"end":return n.stop()}}),n,null,[[2,18]])})))()},uploads:function(t,e){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,f,d,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.dispatch,o=e.id,c=void 0===o?"":o,f=e.files,d=void 0===f?[]:f,console.log("https://jasonxddd.me:7001"),r.next=5,Promise.all(d.map((function(t){return n("upload",{id:c,file:t})})));case 5:return m=r.sent,r.abrupt("return",m.filter((function(t){return t})).map((function(t){return t.url})));case 7:case"end":return r.stop()}}),r)})))()}}},284:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return c})),r.d(e,"mutations",(function(){return f})),r.d(e,"actions",(function(){return d}));var n=r(4),o=(r(21),r(31),r(62)),c=function(){return{works:[],status:""}},f={updateWorks:function(t,e){t.works=e||[]},updateStatus:function(t,e){t.status=e||""}},d={getWorks:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,f,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=t.commit)("updateStatus","loading"),c=e.$fire.firestore.collection("works"),r.next=5,c.get();case 5:f=r.sent,d=f.docs.map((function(t){var e=t.data();return e.id=t.id,new o.a(e)})),n("updateWorks",d),n("updateStatus","done");case 9:case"end":return r.stop()}}),r)})))()},addWork:function(t){var e=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,f,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.dispatch,t.commit,f=e.length>1&&void 0!==e[1]?e[1]:new o.a,d=r.$fire.firestore.collection("works"),n.next=5,d.add(f.toAJAX);case 5:return m=n.sent,n.next=8,c("getWorks");case 8:return console.log(m,m.id),n.abrupt("return",m);case 10:case"end":return n.stop()}}),n)})))()},updateWork:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,f,d,m,l,v,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.dispatch,t.commit,f=e.id,d=void 0===f?"":f,m=e.work,l=void 0===m?new o.a:m,v=r.$fire.firestore.collection("works"),n.next=5,v.doc(d).set(l.toAJAX);case 5:return w=n.sent,n.next=8,c("getWorks");case 8:return console.log(w),n.abrupt("return",w);case 10:case"end":return n.stop()}}),n)})))()}}}},[[328,24,16,21,19,18,15,22,14,17,20,6,5,4,2,1,3,0,8,13,10,9,11]]]);