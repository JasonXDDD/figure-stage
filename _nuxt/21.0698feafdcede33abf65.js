(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{236:function(t,e,r){"use strict";e.a={name:"MetaService",methods:{genMeta:function(t,e,r){var title=t||"展示舞台 FigureStage",n=e||" FigureStage 是一個 360度環繞 展示模型作品的網站，您只需要拍攝各個角度的照片，透過網站上傳您的作品，就能夠完美展示環繞效果，並且您可以嵌入至任何網站或文章。",o=r||"https://jasonxddd.github.io/figure-stage/cover.png";return{title:title,meta:[{hid:"theme-color",property:"theme-color",content:"#272c35"},{hid:"description",property:"description",content:n},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:title",property:"og:title",content:title},{hid:"og:description",property:"og:description",content:n},{hid:"og:url",property:"og:url",content:"https://jasonxddd.github.io/figure-stage"},{hid:"og:site_name",property:"og:site_name",content:"展示舞台 FigureStage"},{hid:"og:image",property:"og:image",content:o},{hid:"twitter:card",property:"twitter:card",content:"summary"},{hid:"twitter:title",property:"twitter:title",content:title},{hid:"twitter:description",property:"twitter:description",content:n},{hid:"twitter:image",property:"twitter:image",content:o}]}}}}},296:function(t,e,r){"use strict";r.r(e),r.d(e,"actions",(function(){return l}));r(30),r(16),r(39),r(22),r(40);var n=r(11),o=r(3),c=(r(20),r(52),r(29),r(8),r(12),r(13),r(31),r(23),r(45));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m="/image",l={uploadFirebase:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var c,d,f,l,h,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,c=e.docid,d=void 0===c?"":c,f=e.files,l=void 0===f?[]:f,h=r.$fire.storage.ref(),w=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(d||m,"/").concat(e.name),t.next=3,h.child(r).put(e);case 3:return n=t.sent,console.log(n,e.name),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.next=6,Promise.all(l.map((function(t){return w(t)})));case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))()},downloadFirebase:function(t){var e=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,o=e.length>1&&void 0!==e[1]?e[1]:"",c=r.$fire.storage.ref(),n.next=5,c.child(o).getDownloadURL();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()},upload:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,d,l,h,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,o=e.id,d=void 0===o?"":o,l=e.file,h=void 0===l?new c.a:l,n.prev=2,n.t0=r,n.t1="".concat("https://jasonxddd.me:7001","/figure-stage"),n.t2=f,n.t3={id:"".concat(m,"/").concat(d)},n.next=9,h.toAJAX;case 9:return n.t4=n.sent,n.t5=(0,n.t2)(n.t3,n.t4),n.t6={url:n.t1,data:n.t5,method:"POST"},n.next=14,n.t0.$axios.call(n.t0,n.t6);case 14:return w=n.sent,n.abrupt("return",w.data);case 18:return n.prev=18,n.t7=n.catch(2),console.error(n.t7),n.abrupt("return",!1);case 22:case"end":return n.stop()}}),n,null,[[2,18]])})))()},uploads:function(t,e){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,d,f,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.dispatch,o=e.id,c=void 0===o?"":o,d=e.files,f=void 0===d?[]:d,console.log("https://jasonxddd.me:7001"),r.next=5,Promise.all(f.map((function(t){return n("upload",{id:c,file:t})})));case 5:return m=r.sent,r.abrupt("return",m.filter((function(t){return t})).map((function(t){return t.url})));case 7:case"end":return r.stop()}}),r)})))()}}},299:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return d})),r.d(e,"mutations",(function(){return f})),r.d(e,"actions",(function(){return m}));var n=r(3),o=(r(20),r(31),r(234)),c=r(46),d=function(){return{works:[],status:""}},f={updateWorks:function(t,e){t.works=e||[]},updateStatus:function(t,e){t.status=e||""}},m={getWorks:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,d,f,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=t.commit)("updateStatus","loading"),d=e.$fire.firestore.collection("works"),r.next=5,d.get();case 5:f=r.sent,m=f.docs.map((function(t){var e=t.data();return e.id=t.id,new c.a(e)})),n("updateWorks",o.orderBy(m,["createAt"],["desc"])),n("updateStatus","done");case 9:case"end":return r.stop()}}),r)})))()},addWork:function(t){var e=arguments,r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,d,f,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.dispatch,t.commit,d=e.length>1&&void 0!==e[1]?e[1]:new c.a,f=r.$fire.firestore.collection("works"),n.next=5,f.add(d.toAJAX);case 5:return m=n.sent,n.next=8,o("getWorks");case 8:return console.log(m,m.id),n.abrupt("return",m);case 10:case"end":return n.stop()}}),n)})))()},updateWork:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,d,f,m,l,h,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.dispatch,t.commit,d=e.id,f=void 0===d?"":d,m=e.work,l=void 0===m?new c.a:m,h=r.$fire.firestore.collection("works"),n.next=5,h.doc(f).set(l.toAJAX);case 5:return w=n.sent,n.next=8,o("getWorks");case 8:return console.log(w),n.abrupt("return",w);case 10:case"end":return n.stop()}}),n)})))()}}}},[[342,35,25,30,28,27,24,31,23,26,29,3,0,7,6,4,2,5,1,16,22,19,17,20,18]]]);